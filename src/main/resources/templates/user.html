<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
      lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head th:replace="header :: common-header"></head>

<body>
<div class="container">
    <div th:replace="header :: header-script"></div>
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link active" href="#">Post Blogs</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">All Blogs</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">My Blogs</a>
        </li>
    </ul>

    <div class="row" style="margin: 50px">
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="basic-addon1">@</span>
            </div>
            <input id="title" type="text" class="form-control" placeholder="Title" aria-label="Title"
                   aria-describedby="basic-addon1">
        </div>
        <div class="input-group">
            <div class="input-group-prepend">
                <span class="input-group-text" >Blog</span>
            </div>
            <textarea class="form-control" aria-label="With textarea" id="blog"> </textarea>
        </div>

        <button id="save" class="btn btn-primary" type="submit" style="width: 100%">Save</button>
    </div>

    <div th:replace="header :: body-bottom-scripts"></div>
</div>
<script>
    const cookieValue = document.cookie.split('; ').find(row => row.startsWith('token')).split('=')[1];
    $("#save").click(function (e) {
        e.preventDefault();
        let title = $("#title").val().trim();
        let body = $("#blog").val().trim();
        let blog = {
            userId: '',
            blogTitle:title,
            blogBody: body,
            blogPostTime: '',
            activeOrNot: false
        }

        /*$.ajax({
            url: 'http://localhost:8080/api/v1/blog',
            Authorization: cookieValue.toString(),
            contentType: 'application/json',
            accept: 'application/json',
            method: 'post',
            data: JSON.stringify(blog),
            success: function (response) {
                if (response) {
                    data = response;
                    console.log(data)
                } else {
                    alert("Invalid username and password!");
                }
            }
        });*/
    });
</script>
</body>
</html>